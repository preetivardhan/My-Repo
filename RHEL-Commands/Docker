######## Docker pull OR FROM command in Dockerfile is not working due to being behind the proxy ##########

Create a file if not present - /etc/systemd/system/docker.service.d/http-proxy.conf

#Add proxy server details as below
[Service]
Environment="HTTP_PROXY=http://proxy.example.com:80/"               {Notice the trailing '/' which is very important}
Environment="HTTPS_PROXY=https://proxy.example.com:443/"            {Notice the trailing '/' which is very important}

#Reload docker daemon
systemctl daemon-reload

#Restart docker service
systemctl restart docker

#Verify if the proxy server details are populated by the below command
systemctl show --property=Environment docker

############### Login to docker (any public or private registry) via linux terminal #########################
docker login docker registry URL   {Default is hub.docker.com} 

########## Ubuntu docker container unable to connect to apt repo due to proxy issue, add these lines in the dockerfile during the docker build #############
RUN bash -c "echo 'Acquire::https::Proxy \"http://proxy.example.com:port/\";' > /etc/apt/apt.conf.d/proxy.conf"
RUN bash -c "echo 'Acquire::http::Proxy \"http://proxy.example.com:port/\";' >> /etc/apt/apt.conf.d/proxy.conf"

#########################DOCKER NETWORKING###########

######Get the running container IP######
docker inspect -f '{{range.NetworkSettings.Networks}}{{.IPAddress}}{{end}}' container_name

######Inspect the docker conatiner####
docker inspect container_name

docker network ls

####Assign a static IP to container by creating a new network############
docker network create -d macvlan \
  --subnet=172.16.86.0/24 \
  --gateway=172.16.86.1 \
  -o parent=eth0 \         --> eth0 is the host network interface
  my-macvlan-net
